# Arduino-joysyick-controlled-quadcopter
The aim of this project was to design a quadcopter, that could be controlled by implementing a joystick connected to a microcontroller. A list of objectives was set in order to aid in meeting the aim, by acting as achievable goals.
1.	The first objective was to design a flight controller that could transfer signals received from a joystick and send them to the actuators.
2.	After the flight controller design, the second objective was to make a wired communication where the dual-joysticks could control the throttle, yaw, pitch and roll of the quadcopter.
3.	The third objective was to attempt to make a wireless communication between the joystick controller and the flight controller.
4.	The final objective was to assemble the quadcopter, including attaching the actuators and connecting the flight controller and radio receiver to the quadcopter frame.

Flight controller:
A flight controller is essentially the brain of the quadcopter as it controls the features of the flight. It can be programmed and calibrated to take signals from the receiver and pass those signals to adjust the speed of the motors depending on what position the quadcopter is in to maintain a steady flight. There were three main parts needed to design the flight controller; the microcontroller, the gyroscope and the MultiWii software system.
The hardware setup for the flight controller was relatively simple as only the gyroscope was being connected to the Uno. A gyroscope was needed for the quadcopter as it lets the flight controller understand what position the quadcopter is in, it aids in flight manoeuvres such as roll, yaw and pitch as well as keep the quadcopter stable. The Arduino kit provided came with a gyroscope GY-521 so this was selected.
The software setup for the flight controller involved installing the MultiWii open-source software program which included a code and a GUI (graphical user interface). MultiWii first came about from MultiWii controller boards that were used to stabilise a multirotor. These boards were utilised by components from a Nintendo Wii controller. The MultiWii program had several advantages; compatibility with Arduino, PID tuning and the ability to create graphs to show immediate data and results for the quadcopter.
As MultiWii was compatible with Arduino there was a premade code that was downloadable for the flight controller. However, the code featured multiple codes for different types of quadcopter dependant on their shape and so firstly the correct shape had to be defined, in this case the quadcopter X shape. Then limits had to be set, the minimum throttle was set to 1000 RPM with the maximum being set to 2000 RPM. Lastly the type of IMU had to be selected which previously stated was the GY-521.
Now that the code had been uploaded to the Arduino UNO flight controller successfully, the MultiWii GUI had to be installed. As it was Java based firstly Java had to be installed. Once it had been installed it could be accessed but the Arduino UNO running the flight controller code had to be running the entire time. Now that the application was opened a range of options could be seen that would be useful for testing later such as calibrating the gyroscope and reading the throttle, yaw, pitch and roll values from the joystick.

Wireless communication:
Creating a wireless communication between the joystick and the flight controller was the next step that had to be carried out. To achieve this, firstly a transmitter was created which would send the controlling commands from the joystick controller of the quadcopter. The controlling command signals would then be continuously received by a receiver circuit which would then pass those signals to the flight controller.
Both the transmitter and receiver circuits were Arduino based with the transmitter being attached to the already designed joystick controller on the Arduino Uno and the receiver being designed around an Arduino Mega. The transceiver used was the NRF24L01 module. This module was selected for four main reasons; low cost, easily compatible with a range of microcontrollers, flexible data transfer rate and a high transmission range.
The hardware setup for the transmitter involved connecting the NRF24L01 modules pins correctly. Three of the pins are for serial peripheral interface (SPI) communication. SPI allows data to be transferred without any interruption, where bits can be sent or received continuously. Devices such as the NRF24L01 which are communicating via SPI use a master-slave relationship (Campbell, 2021). For this project the microcontroller acted as the master which would give instructions to the slave which in this case was the transceiver. The NRF24L01 module also has a CE and CSN pin, these can be connected to any digital pin as they are only used to alternate between command or transmit modes.
The hardware setup for the receiver, due to it using the same NRF24L01 module, was almost identical to the transmitter. As an Arduino Mega 2560 was being used as the receiver microcontroller the SPI pin setup was different. 
For the transmitter to send the joystick movement to the receiver to enable the quadcopter to fly, software adaptations were required through the use of the already made wired joystick Arduino coding. These software adjustments were made through coding in the Arduino IDE.

QUadcopter assembly:
The frame used was a F450 Quadcopter Frame. It was made out of plastic and fibreglass making it strong enough to withstand crashes. The distance between diagonal motor to motor was 450mm and it was incredibly lightweight, only weighed 282 grams. It also included a built-in PDB (power distribution board) therefore saving expenditure on extra jumper wires and an individual PDB.
Firstly, the red cables from all four ESCs needed to be soldered to the + sign of the PDB then the black cables needed to be soldered to the â€“ sign of the PDB. The ESCs were then secured to the quadcopter arms via cable ties. The three wires that needed to be connected to the motors were next. The middle wire is the sensor wire and that had to be directly connected to the middle wire of the motor. The other two wires were positive and negative, two diagonally opposite arms of the quadcopter had to be connected positive to positive and negative to negative, with the other two ESCs being connected positive to negative to change the direction of the motor to anticlockwise. The final wire which was actually three individual wires bound together needed to be connected to the flight controller. The signal wire had to be connected to digital pins 3,9,10 & 11 as this is what the MultiWii software understood to be the motors. The front left motor had to be assigned to D3, the front right to D10, the rear left to D11 and the rear right to D9.
The motors are used to power the propellers of the quadcopter. Two motors would need to rotate clockwise with the other two rotating anticlockwise. 
After the motors were attached, the propellors were the last component to be fastened to the quadcopter. The propellers were 10 inches long and made from ABS plastic making it lightweight and able to sustain crashes. Two of the four propellers, similar to the motors, need to be clockwise with the remaining two propellers being anti-clockwise. This allows the flight to be balanced while generating lift and thrust simultaneously.
